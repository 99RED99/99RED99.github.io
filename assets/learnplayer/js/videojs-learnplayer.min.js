!function(){"use strict";var t=null;t=void 0===window.videojs&&"function"==typeof require?require(VJS_MODULE||"video.min"):window.videojs,function(l,b){function a(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}var c="vjs-volume-settings";var u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},t=b.getComponent("Component"),n=b.getComponent("Button"),h=b.getComponent("Menu"),d=b.getComponent("MenuButton"),i=b.getComponent("MenuItem"),o=b.getComponent("ModalDialog"),s=b.getComponent("TextTrackMenuItem"),r=b.getComponent("PlaybackRateMenuButton"),m=b.getComponent("BigPlayButton"),y=function(n){function o(t,e){return u(this,o),p(this,n.call(this,t,e))}return e(o,n),o.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-topbar-text",dir:"ltr",innerHTML:"<span>"+this.options_.playerOptions.topbar.topbarText.title+"</span>"})},o}(t);t.registerComponent("TopbarText",y);var f=function(o){function s(t,e){u(this,s);var n=p(this,o.call(this,t,e));return n.controlText(e&&e.controlText||n.localize("Bookmark")),n}return e(s,o),s.prototype.buildCSSClass=function(){return"vjs-icon-book "+o.prototype.buildCSSClass.call(this)},s.prototype.handleClick=function(t){this.player_.controlBar.SettingMenuButton.selectedMenuName="Bookmark-menu",this.player_.controlBar.SettingMenuButton.handleClick()},s}(n);t.registerComponent("BookButton",f);var v=function(o){function s(t,e){u(this,s);var n=p(this,o.call(this,t,e));return n.controlText(e&&e.controlText||n.localize("QNA")),e.playerOptions.topbar.qnaButton.href&&0!=e.playerOptions.topbar.qnaButton.href.length||"function"==typeof e.playerOptions.topbar.qnaButton.callback?n.show():n.hide(),n}return e(s,o),s.prototype.buildCSSClass=function(){return"vjs-icon-qna "+o.prototype.buildCSSClass.call(this)},s.prototype.handleClick=function(t){this.options_.playerOptions.topbar.qnaButton.callback=b.bind(this,function(t){!0===this.options_.playerOptions.topbar.qnaButton.isPlayStop&&this.player().pause();if("function"==typeof this.options_.playerOptions.topbar.qnaButton.extraFunction)this.options_.playerOptions.topbar.qnaButton.extraFunction();else if(this.options_.playerOptions.topbar.qnaButton.href&&0!=this.options_.playerOptions.topbar.qnaButton.href.length){var e=b.parseUrl(this.options_.playerOptions.topbar.qnaButton.href);this.options_.playerOptions.topbar.qnaButton.target&&"_blank"==this.options_.playerOptions.topbar.qnaButton.target?l.open(e.protocol+"//"+e.host+e.pathname+e.search+e.hash):l.location.href=e.protocol+"//"+e.host+e.pathname+e.search+e.hash}}),this.options_.playerOptions.topbar.qnaButton.pauseOnOpen=!1,this.player().trigger("messageLayer",this.options_.playerOptions.topbar.qnaButton)},s}(n);t.registerComponent("QnaButton",v);var k=function(r){function a(t,e){u(this,a);var n=e.track,o=e.cue,s=t.currentTime();e.selectable=!0,e.multiSelectable=!1,e.startTime=o.startTime,e.label=o.text,e.selected=o.startTime<=s&&s<o.endTime;var i=p(this,r.call(this,t,e));return i.track=n,i.cue=o,n.addEventListener("cuechange",b.bind(i,i.update)),i}return e(a,r),a.prototype.createEl=function(){return this.nonIconControl=!0,r.prototype.createEl.call(this,"li",{className:"vjs-menu-item",innerHTML:'<div><span class="vjs-menu-item-startTime">'+b.formatTime(this.options_.startTime,3600)+'</span><span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span></div>",tabIndex:-1})},a.prototype.handleClick=function(t){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},a.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},a}(i);t.registerComponent("IndexTrackItem",k);var g=function(a){function l(t,e,n){u(this,l),e.pauseOnOpen=!1,e.temporary=!1;var o=p(this,a.call(this,t,e));b.dom.addClass(o.contentEl(),"vjs-cScrollbar");var s=t.textTracks(),i=b.bind(o,o.updateTrack);if(s.addEventListener("removetrack",i),s.addEventListener("addtrack",i),t.on("ready",i),t.on("dispose",function(){s.removeEventListener("removetrack",i),s.removeEventListener("addtrack",i)}),o.indexButton=n,o.hasBeenOpened_=o.hasBeenFilled_=!0,this.options_.playerOptions.topbar.topbarText.title){var r=b.dom.createEl("div",{className:"vjs-menu-title",innerHTML:this.options_.playerOptions.topbar.topbarText.title,tabIndex:-1});b.dom.prependTo(r,o.el())}return o.endDialog=b.dom.createEl("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o}return e(l,a),l.prototype.updateTrack=function(t){if(this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),t&&"load"===t.type&&t.target&&t.target.src&&Array.isArray(t.target.src))for(var e in t.target.src)t.target.track.addCue(new VTTCue(t.target.src[e].startTime,t.target.src[e].endTime,t.target.src[e].text));var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.menuEl_=n.el_,this.fill(),this.buttonPressed_=!1,this.items&&this.items.length<=0?(n.hide(),this.indexButton.hide()):(n.show(),this.indexButton.show())},l.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.updateTrack.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},l.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var n=t[e];if("chapters"===n.kind)return n}},l.prototype.createMenu=function(){var t=new h(this.player_);if(this.items=this.createItems(),this.items)for(var e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t},l.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,o=e.length;n<o;n++){var s=e[n],i=new k(this.player_,{track:this.track_,cue:s});t.push(i)}return t},l.prototype.open=function(){this.player().topbarWrap.toggleClass("vjs-zeroOpacity"),a.prototype.open.call(this),this.player().controls(!0)},l.prototype.close=function(){this.player().topbarWrap.toggleClass("vjs-zeroOpacity"),this.indexButton.unpressButton(),a.prototype.close.call(this)},l.prototype.dispose=function(){this.endDialog=null,a.prototype.dispose.call(this)},l.prototype.content=function(){return this.menuEl_},l.prototype.buildCSSClass=function(){return a.prototype.buildCSSClass.call(this)+" vjs-index-layer"},l.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(document,"keydown",this.handleKeyDown),this.player_.$(".vjs-icon-index").focus()},l}(o);t.registerComponent("IndexLayer",g);var _=function(o){function s(t,e){u(this,s);var n=p(this,o.call(this,t,e));return n.controlText(e&&e.controlText||n.localize("Index")),n.el_.setAttribute("aria-haspopup","true"),n.hide(),n.enabled_=!0,n.on("tap",n.handleClick),n.on("click",n.handleClick),n.on("focus",n.handleFocus),n.on("blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n.indexLayer=new g(t,e,n),t.addChild(n.indexLayer),n}return e(s,o),s.prototype.buildCSSClass=function(){return"vjs-icon-index "+o.prototype.buildCSSClass.call(this)},s.prototype.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},s.prototype.handleFocus=function(){this.on(document,"keydown",b.bind(this,this.handleKeyPress))},s.prototype.handleBlur=function(){this.off(document,"keydown",b.bind(this,this.handleKeyPress))},s.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},s.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.el_.focus()))},s.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,b.browser.IS_IOS&&b.dom.isInFrame())return;this.indexLayer.open()}},s.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"))},s.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled")},s.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled")},s}(n);t.registerComponent("IndexButton",_);var C=function(n){function o(t,e){return u(this,o),p(this,n.call(this,t,e))}return e(o,n),o.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-topbar-wrap",dir:"ltr"}),e=this;return setTimeout(function(){e.player_.el_.insertBefore(t,e.player_.el_.getElementsByTagName("video")[0])},1),t},o.prototype.options_={children:["topbarText","bookButton","qnaButton","IndexButton"]},o}(t);t.registerComponent("TopbarWrap",C);var T=function(o){function s(t,e){u(this,s);var n=p(this,o.call(this,t,e));return n.addClass("iframeblocker"),n}return e(s,o),s.prototype.handleClick=function(t){this.player_.paused()?(this.controlText("Pause"),o.prototype.handleClick.call(this,t)):(this.player_.pause(),this.controlText("Play")),this.player_.focus(),this.player().getChild("ResolutionOSDButton").hide()},s.prototype.controlText_="Pause",s}(m);t.registerComponent("BigPlay1Button",T);var B=function(o){function s(t,e){u(this,s);var n=p(this,o.call(this,t,e));return t.on("updateSources",b.bind(this,this.createResolutionMenu)),n}return e(s,o),s.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:"vjs-resolution-button"})},s.prototype.createResolutionMenu=function(){var t=new h(this.player());b.dom.addClass(t.contentEl().parentNode,"quality-menu"),this.sources=this.player_.getGroupedSrc();var e=this.sources&&this.sources.label||{};for(var n in e)e.hasOwnProperty(n)&&t.addChild(new M(this.player_,{label:n,src:e[n],selected:n===(!!this.currentSelection&&this.currentSelection.label)}));this.addChild(t)},s}(t);t.registerComponent("ResolutionOSDButton",B);var S=function(s){function i(t,e){u(this,i);var n=p(this,s.call(this,t,e));n.controlText(e&&e.controlText||n.localize("captions toggle")),n.selected=!1,n._tracks=t.textTracks();var o=b.bind(n,n.updateTrack);return n._tracks.addEventListener("change",o),n}return e(i,s),i.prototype.updateTrack=function(t){this.selected=!1;for(var e=0;e<this._tracks.length;e++)if(("captions"===this._tracks[e].kind||"subtitles"===this._tracks[e].kind)&&"showing"==this._tracks[e].mode){this.selected=!0,this.player_.cache_.track=this._tracks[e];break}this.selected?this.addClass("vjs-selected"):this.removeClass("vjs-selected")},i.prototype.toggleCaptions=function(){for(var t=0;t<this._tracks.length;t++)if(this.selected)this._tracks[t].mode="disabled";else{if(!this.player_.cache_.track){this.preselectTrack();break}if(this._tracks[t].kind==this.player_.cache_.track.kind&&this._tracks[t].language==this.player_.cache_.track.language&&this._tracks[t].label==this.player_.cache_.track.label){this._tracks[t].mode="showing";break}}},i.prototype.preselectTrack=function(){for(var t=this.player_.textTracks(),e=void 0,n=t.length-1;0<=n;n--){var o=t[n];if(("captions"===o.kind||"subtitles"===o.kind)&&(e=o,this.player_.language_===o.language))break}e&&(e.mode="showing")},i.prototype.buildCSSClass=function(){return"vjs-captions-button "+s.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function(t){this.toggleCaptions()},i}(n);t.registerComponent("CaptionsToggleButton",S);var j=function(n){function o(t,e){return u(this,o),p(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){this.buttonPressed_?this.unpressButton():(this.player().controlBar.SettingMenuButton.unpressButton(),this.pressButton())},o}(r);t.registerComponent("PlaybackRateMenu1Button",j);var x=function(o){function s(t,e){u(this,s),e.selectable=!0;var n=p(this,o.call(this,t,e));return this.src=e.src,t.on("resolutionchange",b.bind(this,this.update)),n}return e(s,o),s.prototype.handleClick=function(t){i.prototype.handleClick.call(this,t),this.player_.currentResolution(this.options_.label)},s.prototype.update=function(){var t=this.player_.currentResolution();this.selected(this.options_.label===t.label)},s}(i);t.registerComponent("ResolutionMenuItem",x);var M=function(n){function o(t,e){return u(this,o),p(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){n.prototype.handleClick.call(this,t),this.player().getChild("ResolutionOSDButton").hide(),this.player().play()},o}(x);t.registerComponent("ResolutionOSDMenuItem",M);var w=function(i){function r(t,e){u(this,r),this.label=document.createElement("span"),e.label="Quality";var n=p(this,i.call(this,t,e));this.el().setAttribute("aria-label","Quality"),this.controlText("Quality");var o=b.dom||b;if(e.dynamicLabel)o.addClass(this.label,"vjs-resolution-button-label"),this.el().appendChild(this.label);else{var s=document.createElement("span");o.addClass(s,"vjs-menu-icon"),this.el().appendChild(s)}return t.on("updateSources",b.bind(this,this.update)),n}return e(r,i),r.prototype.createItems=function(){var t=[],e=this.sources&&this.sources.label||{};for(var n in e)e.hasOwnProperty(n)&&t.push(new x(this.player_,{label:n,src:e[n],selected:n===(!!this.currentSelection&&this.currentSelection.label)}));return t},r.prototype.update=function(){return this.sources=this.player_.getGroupedSrc(),this.currentSelection=this.player_.currentResolution(),this.label.innerHTML=this.currentSelection?this.currentSelection.label:"",d.prototype.update.call(this)},r.prototype.buildCSSClass=function(){return"vjs-resolution-button "+d.prototype.buildCSSClass.call(this)},r.prototype.buildWrapperCSSClass=function(){return"vjs-resolution-button "+d.prototype.buildWrapperCSSClass.call(this)},r}(d);t.registerComponent("ResolutionMenuButton",w);var O=function(s){function i(t,e){u(this,i);var n=e.item;e.selectable=!0,e.label=n.text;var o=p(this,s.call(this,t,e));return o.item=n,o.on(t,"bookmarkMenuItemChange",o.update),o}return e(i,s),i.prototype.createEl=function(t,e,n){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>";return o+='<button class="vjs-icon-delete_forever vjs-bookmark-item-del vjs-control vjs-button" type="button" title="등록/수정" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder vjs-bookmark-item-del"></span><span class="vjs-control-text" aria-live="polite">삭제</span></button>',s.prototype.createEl.call(this,t,{innerHTML:o},n)},i.prototype.handleClick=function(t){if(t.target.classList.contains("vjs-bookmark-item-del")){this.player().isBookmarkPlay&&(this.player().isBookmarkPlay=!1,this.player().bookmarkPlayId=""),this.player_.options_.bookmarks.extraFunctions.remove&&this.player_.options_.bookmarks.extraFunctions.remove(this.item);var e=this.player_.controlBar.SettingMenuButton.itemsMenu.getChildById(this.id()),n=this.player_.controlBar.SettingMenuButton.itemsMenu.children_.indexOf(e);return-1<n&&(this.player_.options_.bookmarks.items.splice(n,1),this.player_.controlBar.SettingMenuButton.itemsMenu.removeChild(this)),void this.dispose()}this.player().isBookmarkPlay&&this.player().isBookmarkPlay&&this.player().bookmarkPlayId==this.id()?(this.player_.controlBar.SettingMenuButton.setBookmarkMenuForm(null,b.formatTime(this.player().currentTime(),3600),b.formatTime(this.player().currentTime()+5,3600)),this.player_.abLoopPlugin.disable(),this.player().isBookmarkPlay=!1,this.player().bookmarkPlayId=""):(this.player_.controlBar.SettingMenuButton.setBookmarkMenuForm(this.item.text,b.formatTime(parseInt(this.item.startTime),3600),b.formatTime(parseInt(this.item.endTime),3600),"modify"),this.player_.abLoopPlugin.setStart(this.item.startTime).setEnd(this.item.endTime).enable(),this.player().isBookmarkPlay=!0,this.player().bookmarkPlayId=this.id()),this.player().trigger("bookmarkMenuItemChange",{id:this.player().bookmarkPlayId})},i.prototype.update=function(t,e){this.selected(this.id()===e.id)},i.prototype.modifyEl=function(t){this.item=t,b.dom.textContent(this.$(".vjs-menu-item-text"),t.text)},i}(i);t.registerComponent("BookmarkMenuItem",O);var E=function(n){function o(t,e){return u(this,o),e.selectable=!0,p(this,n.call(this,t,e))}return e(o,n),o}(s);t.registerComponent("CaptionsMenuItem",E);var P=function(s){function n(t,e){return u(this,n),e.selectable=!1,p(this,s.call(this,t,e))}return e(n,s),n.prototype.createEl=function(t,e,n){this.nonIconControl=!0,this.tabIndex_=-1;var o=b.dom.createEl("li",{className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.labelObj.name)+'</span><span class="vjs-menu-item-text">'+this.localize(this.options_.labelObj.description)+"</span>",tabIndex:-1});return s.prototype.createControlTextEl.call(this,o),o},n.prototype.handleClick=function(t){},n}(i);t.registerComponent("HotkeysMenuItem",P);var I=function(n){function o(t,e){return u(this,o),e.selectable=!1,p(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){},o}(i);t.registerComponent("InfoMenuItem",I);var N=function(n){function o(t,e){return u(this,o),p(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){n.prototype.handleClick.call(this,t),this.options_.parentObj.selectedMenuName=this.options_.label.replace(" ","_")+"-menu",this.options_.parentObj.pressButton()},o}(i);t.registerComponent("SettingMenuItem",N);var L=function(t){function s(t,e){u(this,s),this.menuList={},this.selectedMenuName="basic-menu";var n=p(this,d.call(this,t,e));e.playerOptions.bookmarks.isUse&&n.createBookmarkMenu(),t.on("updateSources",b.bind(this,this.createResolutionMenu));var o=t.textTracks();return o.addEventListener("removetrack",b.bind(n,n.createCaptionsMenu)),o.addEventListener("addtrack",b.bind(n,n.createCaptionsMenu)),t.on("ready",b.bind(n,n.createCaptionsMenu)),t.on("dispose",function(){o.removeEventListener("removetrack",b.bind(n,n.createCaptionsMenu)),o.removeEventListener("addtrack",b.bind(n,n.createCaptionsMenu))}),n.createHotkeysMenu(),n.createInfoMenu(),n}return e(s,d),s.prototype.createMenu=function(){var t=["Bookmark","Quality","Captions Language","Hotkeys","Info"],e=new h(this.player_,{menuButton:this});e.addClass("basic-menu");for(var n=0,o=t.length;n<o;n++)e.addChild(new N(this.player_,{label:t[n],parentObj:this}));return this.menuList["basic-menu"]=e},s.prototype.setBookmarkMenuForm=function(t,e,n,o){if(null==t){var s=0;this.player_.options_.bookmarks&&this.player_.options_.bookmarks.items&&Array.isArray(this.player_.options_.bookmarks.items)&&(s=this.player_.options_.bookmarks.items.length),t="북마크 "+(s+1)}if(this.$(".vjs-bookmark-form-name").value=t,null!=e){var i=e.split(":");this.$(".vjs-bookmark-form-starthour").value=i[0]<10?"0"+i[0]:i[0],this.$(".vjs-bookmark-form-startminute").value=i[1],this.$(".vjs-bookmark-form-startsecond").value=i[2]}if(null!=n){var r=n.split(":");this.$(".vjs-bookmark-form-endhour").value=r[0]<10?"0"+r[0]:r[0],this.$(".vjs-bookmark-form-endminute").value=r[1],this.$(".vjs-bookmark-form-endsecond").value=r[2]}b.dom.removeClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-add"),b.dom.removeClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-modify"),b.dom.removeClass(this.$(".vjs-icon-complete .vjs-icon-placeholder"),"vjs-bookmark-form-add"),b.dom.removeClass(this.$(".vjs-icon-complete .vjs-icon-placeholder"),"vjs-bookmark-form-modify"),null==o||"add"===o?(b.dom.addClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-add"),b.dom.addClass(this.$(".vjs-icon-complete .vjs-icon-placeholder"),"vjs-bookmark-form-add")):(b.dom.addClass(this.$(".vjs-icon-complete"),"vjs-bookmark-form-modify"),b.dom.addClass(this.$(".vjs-icon-complete .vjs-icon-placeholder"),"vjs-bookmark-form-modify"))},s.prototype.createBookmarkMenu=function(){var y=new h(this.player());y.addClass("bookmark-menu");var f=new h(this.player());f.addClass("vjs-cScrollbar"),f.lockShowing();for(var t=0,e=this.player_.options_.bookmarks.items.length;t<e;t++)f.addChild(new O(this.player_,{item:this.player_.options_.bookmarks.items[t]}));var n=b.dom.createEl("li",{append:f.el(),className:"vjs-menu-items-wrap",tabIndex:-1});n.appendChild(f.el()),y.children_.unshift(n),b.dom.prependTo(n,y.contentEl()),this.itemsMenu=f;var o=b.dom.createEl("li",{className:"vjs-bookmark-form",innerHTML:'<div class="box1"><input class="vjs-bookmark-form-name"/></div><div class="box2"><input class="vjs-bookmark-form-starthour" maxlength="2" value="00"/>:<input class="vjs-bookmark-form-startminute" maxlength="2" value="00"/>:<input class="vjs-bookmark-form-startsecond" maxlength="2" value="00"/>~<input class="vjs-bookmark-form-endhour" maxlength="2" value="00"/>:<input class="vjs-bookmark-form-endminute" maxlength="2" value="00"/>:<input class="vjs-bookmark-form-endsecond" maxlength="2" value="00"/><button class="vjs-icon-complete vjs-bookmark-form-add vjs-control vjs-button" type="button" title="등록/수정" aria-disabled="false"><span aria-hidden="true" class="vjs-icon-placeholder vjs-bookmark-form-add"></span><span class="vjs-control-text" aria-live="polite">등록/수정</span></button></div>'});y.children_.unshift(o),b.dom.prependTo(o,y.contentEl());var s=b.bind(this,function(t){var e=y.$(".vjs-bookmark-form-name").value,n=Number(y.$(".vjs-bookmark-form-starthour").value||"00"),o=Number(y.$(".vjs-bookmark-form-startminute").value||"00"),s=Number(y.$(".vjs-bookmark-form-startsecond").value||"00"),i=Number(y.$(".vjs-bookmark-form-endhour").value||"00"),r=Number(y.$(".vjs-bookmark-form-endminute").value||"00"),a=Number(y.$(".vjs-bookmark-form-endsecond").value||"00"),l=!0;if(e.length<1)this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"북마크명을 입력해 주세요."});else{(isNaN(i)||isNaN(r)||isNaN(a))&&(l=!1),(i<0||r<0||a<0||60<r||60<a)&&(l=!1);var c=3600*i+60*r+a;if((c<0||this.player().duration()&&c>this.player().duration())&&(l=!1),l){l=!0,(isNaN(n)||isNaN(o)||isNaN(s))&&(l=!1),(n<0||o<0||a<0||60<o||60<s)&&(l=!1);var u=3600*n+60*o+s;if((u<0||this.player().duration()&&u>this.player().duration())&&(l=!1),l)if(c<u+5)this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"시작과 종료시간 간격을 5초 이상 지정하세요."});else{var p,h={startTime:u,endTime:c,text:e},d=b.bind(this,function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var t=this.player_.controlBar.SettingMenuButton.itemsMenu.children_.indexOf(p);-1<t&&(this.player_.options_.bookmarks.items.splice(t,1,h),p.modifyEl(h))});if(t.target.classList.contains("vjs-bookmark-form-add")){this.player_.options_.bookmarks.items.push(h);p=f.addChild(new O(this.player_,{item:h})).focus(),this.player().isBookmarkPlay||this.setBookmarkMenuForm(null,b.formatTime(this.player().currentTime(),3600),b.formatTime(this.player().currentTime()+5,3600)),this.player_.options_.bookmarks.extraFunctions.add&&this.player_.options_.bookmarks.extraFunctions.add(h,d)}else{p=this.player_.controlBar.SettingMenuButton.itemsMenu.getChildById(this.player_.bookmarkPlayId);var m=this.player_.controlBar.SettingMenuButton.itemsMenu.children_.indexOf(p);-1<m&&(this.player_.options_.bookmarks.items.splice(m,1,h),p.modifyEl(h)),this.player_.options_.bookmarks.extraFunctions.modify&&this.player_.options_.bookmarks.extraFunctions.modify(h,d)}}else this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"시작시간 값을 확인해 주세요."})}else this.player().trigger("messageLayer",{pauseOnOpen:!1,messageType:"alert",title:"종료시간 값을 확인해 주세요."})}});this.on(y.$(".vjs-icon-complete"),"click",s);var i=b.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Bookmark")),tabIndex:-1});this.on(i,"click",b.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),y.children_.unshift(i),b.dom.prependTo(i,y.contentEl()),this.addChild(y),this.menuList["Bookmark-menu"]=y},s.prototype.createResolutionMenu=function(){var t=new h(this.player());b.dom.addClass(t.contentEl().parentNode,"quality-menu");var e=b.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Quality")),tabIndex:-1});this.on(e,"click",b.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),t.children_.unshift(e),b.dom.prependTo(e,t.contentEl()),this.sources=this.player_.getGroupedSrc();var n=this.sources&&this.sources.label||{};for(var o in n)n.hasOwnProperty(o)&&t.addChild(new x(this.player_,{label:o,src:n[o],selected:o===(!!this.currentSelection&&this.currentSelection.label),parentObj:this}));this.addChild(t),this.menuList["Quality-menu"]=t},s.prototype.createCaptionsMenu=function(){var t=new h(this.player());this.captionsMenu&&(this.captionsMenu.dispose(),this.removeChild(this.captionsMenu)),b.dom.addClass(t.contentEl().parentNode,"captions-menu");var e=b.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Captions Language")),tabIndex:-1});this.on(e,"click",b.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),t.children_.unshift(e),b.dom.prependTo(e,t.contentEl());for(var n=this.player_.textTracks(),o=["captions","subtitles"],s=0;s<n.length;s++){var i=n[s];if(-1<o.indexOf(i.kind)&&(!i.cues||0!=i.cues.length)){var r=new E(this.player_,{track:i,parentObj:this});r.addClass("vjs-"+i.kind+"-menu-item"),t.addChild(r)}}this.captionsMenu=t,this.addChild(t),this.menuList["Captions_Language-menu"]=t},s.prototype.createHotkeysMenu=function(){var t=[{name:"Space Bar",description:"재생 / 일시정지"},{name:"Enter | F",description:"전체화면 / 일반화면"},{name:"Esc",description:"전체화면 해제"},{name:"M",description:"음소거 / 음소거 해제"},{name:"B",description:"북마크"},{name:"&#8593;",description:"볼륨 증가"},{name:"&#8595;",description:"볼륨 감소"},{name:"&#8592;",description:"구간 이동(-5초)"},{name:"&#8594;",description:"구간 이동(+5초)"},{name:"\t&#60;",description:"배속 감소"},{name:"&#62;",description:"배속 증가"}],e=new h(this.player());b.dom.addClass(e.contentEl().parentNode,"hotkeys-menu");var n=b.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Hotkeys")),tabIndex:-1});this.on(n,"click",b.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),e.children_.unshift(n),b.dom.prependTo(n,e.contentEl());for(var o=0,s=t.length;o<s;o++)e.addChild(new P(this.player_,{label:"Hotkeys",labelObj:t[o],parentObj:this}));this.addChild(e),this.menuList["Hotkeys-menu"]=e},s.prototype.createInfoMenu=function(){var t=new h(this.player());b.dom.addClass(t.contentEl().parentNode,"info-menu");var e=b.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Info")),tabIndex:-1});this.on(e,"click",b.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),t.children_.unshift(e),b.dom.prependTo(e,t.contentEl());var n=new I(this.player_,{label:this.options_.playerOptions.playerInfo.innerHtml||"sharePlayer",parentObj:this});t.addChild(n),this.addChild(t),this.menuList["Info-menu"]=t},s.prototype.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},s.prototype.pressButton=function(){if(this.enabled_){if(this.player().controlBar.playbackRateMenu1Button.unpressButton(),this.buttonPressed_=!0,this.menuButton_.el_.setAttribute("aria-expanded","true"),b.browser.IS_IOS&&b.dom.isInFrame())return;var n=this.menuList,o=this.selectedMenuName;Object.keys(n).forEach(function(t){var e=n[t];o===t?e.lockShowing():e.unlockShowing()}),this.player().isBookmarkPlay||"Bookmark-menu"!==o||this.setBookmarkMenuForm(null,b.formatTime(this.player().currentTime(),3600),b.formatTime(this.player().currentTime()+5,3600))}},s.prototype.unpressButton=function(){if(this.enabled_){this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false");var e=this.menuList;this.selectedMenuName="basic-menu",Object.keys(e).forEach(function(t){e[t].unlockShowing()})}},s.prototype.buildCSSClass=function(){return"vjs-icon-cog vjs-setting "+t.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function(){return"vjs-icon-cog vjs-setting "+t.prototype.buildWrapperCSSClass.call(this)},s.prototype.controlText_="Setting",s}(d);t.registerComponent("SettingMenuButton",L);var R=function(o){function s(t,e){u(this,s),this.messageOptions={},e.temporary=!1,e.uncloseable=!0,e.fillAlways=!0;var n=p(this,o.call(this,t,e));return n.on(t,"messageLayer",n.openWithOption),n}return e(s,o),s.prototype.openWithOption=function(t,e){this.messageOptions={},e&&(this.options_.pauseOnOpen=e.pauseOnOpen,this.messageOptions=e,this.open())},s.prototype.buildCSSClass=function(){return"vjs-message-display "+o.prototype.buildCSSClass.call(this)},s.prototype.content=function(){var t=b.dom.createEl("div",{className:"vjs-modal-dialog-box"}),e=b.dom.createEl("div",{className:"vjs-modal-dialog-title",innerHTML:this.messageOptions.title||"알림"});if(b.dom.appendContent(t,e),this.messageOptions.message&&0!=this.messageOptions.message.length){var n=b.dom.createEl("div",{className:"vjs-modal-dialog-message",innerHTML:this.messageOptions.message});b.dom.appendContent(t,n)}if(this.messageOptions.info&&0!=this.messageOptions.info.length){var o=b.dom.createEl("div",{className:"vjs-modal-dialog-info",innerHTML:this.messageOptions.info});b.dom.appendContent(t,o)}var s=b.dom.createEl("div",{className:"vjs-modal-dialog-buttonWrap"}),i=b.dom.createEl("button",{className:"vjs-modal-dialog-btn_ok",textContent:"확인"});if(b.dom.appendContent(s,i),this.on(i,"click",b.bind(this,function(t){"function"==typeof this.messageOptions.callback&&this.messageOptions.callback(),this.close()})),this.messageOptions.messageType&&"confirm"==this.messageOptions.messageType){var r=b.dom.createEl("button",{className:"vjs-modal-dialog-btn_cancel",textContent:"취소"});b.dom.appendContent(s,r),this.on(r,"click",this.close)}return b.dom.appendContent(t,s),t},s}(o);t.registerComponent("MessageLayer",R);var H=function(t){0<this.options_.continue.time&&(!0===this.options_.continue.isShowMessage?(this.options_.continue.info=b.formatTime(this.options_.continue.time),this.options_.continue.callback=b.bind(this,function(t){this.currentTime(this.options_.continue.time),this.options_.continue.time=0}),this.trigger("messageLayer",this.options_.continue)):(this.currentTime(this.options_.continue.time),this.options_.continue.time=0))},$=function(t){var a,l,c=t,u=0,r=0,p=0,h=function(t){var e=p,n=Math.floor(e),o=Math.floor(r),s=e-r;if(!(s<=0)&&(u+=s,r=e,n-o!=0))for(var i=o;i<=n;i++){null==a[i]?a[i]={second:i,count:1}:a[i].count++}};return{setFirstPlaying:function(){l=Date.now(),a=new Array(Math.floor(c.duration()))},setPlay:function(){r=p=c.currentTime()},setTimeupdate:function(){var t=c.currentTime();.3<Math.abs(t-p)||(p=t)},setStop:h,getTimeInfo:function(){c.paused()||h();for(var t,e,n=Math.floor((Date.now()-l)/1e3),o=c.duration(),s=c.played(),i=0,r=0;r<s.length;r++)t=s.start(r),o<(e=s.end(r))&&(e=o),i+=e-t;if(Array.isArray(a))for(r=0;r<a.length;r++)null==a[r]&&(a[r]={second:r,count:0});return{stayedTime:n||0,actedPlayedTime:u,playedTime:i,durationTime:o,lastTimePosition:c.currentTime(),secondStatsArray:a||[]}}}},F=function(t){1<t.sources.length&&this.updateSrc(t.sources)},z=function(r){var a=r.options_.resolution;function n(t,e){return t.res&&e.res?+e.res-+t.res:0}function l(t){var e={label:{},res:{},type:{}};return t.map(function(t){o(e,"label",t),o(e,"res",t),o(e,"type",t),s(e,"label",t),s(e,"res",t),s(e,"type",t)}),e}function o(t,e,n){null==t[e][n[e]]&&(t[e][n[e]]=[])}function s(t,e,n){t[e][n[e]].push(n)}r.updateSrc=function(t){if(!t)return r.src();t=t.filter(function(t){try{return""!==r.canPlayType(t.type)}catch(t){return!0}}),this.currentSources=t.sort(n),this.groupedSrc=l(this.currentSources);var e=function(t,e){var n=a.default,o="";"high"===n?(n=e[0].res,o=e[0].label):"low"!==n&&null!=n&&t.res[n]?t.res[n]&&(o=t.res[n][0].label):(n=e[e.length-1].res,o=e[e.length-1].label);return{res:n,label:o,sources:t.res[n]}}(this.groupedSrc,this.currentSources);return this.currentResolutionState={label:e.label,sources:e.sources},r.trigger("updateSources"),r.setSourcesSanitized(e.sources,e.label),r.trigger("resolutionchange"),r},r.currentResolution=function(t,e){if(null==t)return this.currentResolutionState;if(t==this.currentResolutionState.label)return this.currentResolutionState;if(this.groupedSrc&&this.groupedSrc.label&&this.groupedSrc.label[t]){var n=this.groupedSrc.label[t],o=r.currentTime(),s=r.paused();this.player_.addClass("vjs-waiting"),s||(this.player_.bigPlay1Button&&this.player_.bigPlay1Button.hide(),this.player_.posterImage&&this.player_.posterImage.hide());var i="loadeddata";return"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&(i="timeupdate"),r.setSourcesSanitized(n,t,e||a.customSourcePicker).one(i,function(){r.currentTime(o),r.handleTechSeeked_(),s||(r.play(),r.handleTechSeeked_(),this.player_.bigPlay1Button&&this.player_.bigPlay1Button.show(),this.player_.posterImage&&this.player_.posterImage.show()),r.trigger("resolutionchange")}),r}},r.getGroupedSrc=function(){return this.groupedSrc},r.setSourcesSanitized=function(t,e,n){return this.currentResolutionState={label:e,sources:t},"function"==typeof n?n(r,t,e):(r.src(t.map(function(t){return{src:t.src,type:t.type,res:t.res}})),r)},r.ready(function(){if(a.ui){var t=new w(r,a);r.controlBar.resolutionSwitcher=r.controlBar.el_.insertBefore(t.el_,r.controlBar.getChild("fullscreenToggle").el_),r.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)}}var o,s,i;1<r.options_.sources.length&&r.updateSrc(r.options_.sources),"Youtube"===r.techName_&&(o=r,s={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"auto"}},i=function(t,e,n){return o.tech_.ytPlayer.setPlaybackQuality(e[0]._yt),o.trigger("updateSources"),o},a.customSourcePicker=i,o.tech_.ytPlayer.setPlaybackQuality("auto"),o.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(t){for(var e in s)if(e.yt===t.data)return void o.currentResolution(e.label,i)}),o.one("play",function(){var t=o.tech_.ytPlayer.getAvailableQualityLevels(),e=[];t.map(function(t){e.push({src:o.src().src,type:o.src().type,label:s[t].label,res:s[t].res,_yt:s[t].yt})}),o.groupedSrc=l(e);var n={label:"auto",res:0,sources:o.groupedSrc.label.auto};this.currentResolutionState={label:n.label,sources:n.sources},o.trigger("updateSources"),o.setSourcesSanitized(n.sources,n.label,i)}))})},A="vjs-contextmenu";function D(t,e){if(t.options_.contextmenu.disabled)return t;var n={target:t,type:A};return["clientX","clientY","pageX","pageY","screenX","screenY"].forEach(function(t){n[t]=e[t]}),t.trigger(n)}function q(t){var e=this.options_.contextmenu.current;if(e){var n=this.options_.contextmenu.wait;"touchend"===t.type&&Number(new Date)-e.time>=n&&D(this,t),this.options_.contextmenu.current=null}}function Q(t){var e=this.options_.contextmenu.current;if(e){var n=t.touches[0],o=this.options_.contextmenu.sensitivity;(n.screenX-e.screenX>o||n.screenY-e.screenY>o)&&(this.options_.contextmenu.current=null)}}function K(t){if(!this.options_.contextmenu.current){var e=t.touches[0];this.options_.contextmenu.current={screenX:e.screenX,screenY:e.screenY,time:Number(new Date)}}}function W(t){this.options_.contextmenu.cancel&&!this.options_.contextmenu.disabled&&t.preventDefault(),D(this,t),this.off(["touchcancel","touchend"],q),this.off("touchmove",Q),this.off("touchstart",K)}b.registerPlugin("learnPlugin",function(e){var t,n,o,s,i;n=function(e){return e.modifiers=e.modifiers||{},{key:function(t){return t.which===e.key&&!!e.modifiers.ctrl==!!t.ctrlKey&&!!e.modifiers.shift==!!t.shiftKey&&!!e.modifiers.alt==!!t.altKey&&!!e.modifiers.meta==!!t.metaKey},handler:e.handler}},o=function(s){return function(t){if(t.options_.playbackRates&&Array.isArray(t.options_.playbackRates)){for(var e=0,n=0,o=t.options_.playbackRates.length;n<o;n++)if(t.options_.playbackRates[n]==t.playbackRate()){e=n;break}t.playbackRate(t.options_.playbackRates[e+s])}}},(t=e).options_.hotkey.customKeys={sppedDown:n({key:188,handler:o(-1)}),speedUp:n({key:190,handler:o(1)}),settingsBookmarkToggle:n({key:66,handler:function(t){t.controlBar.SettingMenuButton.selectedMenuName="Bookmark-menu",t.controlBar.SettingMenuButton.handleClick()}})},t.hotkeys(t.options_.hotkey),z(e),e.changeSouece=F,(i=s=e).on("contextmenu",b.bind(i,W)),s.on(["touchcancel","touchend"],b.bind(i,q)),s.on("touchmove",b.bind(i,Q)),s.on("touchstart",b.bind(i,K)),s.ready(function(){return i.addClass(A)}),e.on("vjs-contextmenu",function(t){var e=b.dom.createEl("div",{className:"vjs-hidden vjs-contenxtmenu"});b.dom.appendContent(this.el(),e),e.parentNode.removeChild(e)}),e.addClass("video-js"),e.on("mouseleave",function(){e.userActive(!1)}),e.on("playerresize",function(){e.trigger("texttrackchange")});var r=function(){e.textTrackDisplay.hide()};!0!==e.options_.isMobile&&(e.on("volumechange",function(){!function(t){try{"number"==typeof t?l.localStorage.setItem(c,t):l.localStorage.removeItem(c)}catch(t){b.log.warn(t)}}(e.muted()?0:e.volume())}),e.one("ready",function(){var t=function(){var t=void 0;try{t=l.localStorage.getItem(c)}catch(t){b.log.warn(t)}return t||(t=1),t}();e.volume(t),0==t?e.muted(!0):e.muted(!1)})),e.on("texttrackchange",r),e.on("ready",function(){setTimeout(function(){e.off("texttrackchange",r),e.textTrackDisplay.show(),e.trigger("texttrackchange")},400)}),e.one("canplay",function(){!0===e.options_.isMobile&&(e.addClass("mobileMode"),e.controlBar.playToggle.hide(),e.controlBar.volumePanel.volumeControl.hide(),e.volume(1)),!0===e.options_.learnMode&&e.addClass("learnMode")});var a=new $(e);e.getTimeInfo=a.getTimeInfo,e.one("playing",a.setFirstPlaying),e.on("play",a.setPlay),e.on("timeupdate",a.setTimeupdate),e.on(["seeking","ended","pause","waiting"],a.setStop),e.one("playing",H),e.one("playing",function(){e.el().focus()})})}(window,t)}();