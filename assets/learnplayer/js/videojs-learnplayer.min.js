!function(){"use strict";var t=null;t=void 0===window.videojs&&"function"==typeof require?require(VJS_MODULE||"video.min"):window.videojs,function(l,c){function a(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}var u="vjs-volume-settings";var p=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},t=c.getComponent("Component"),n=c.getComponent("Button"),d=c.getComponent("Menu"),m=c.getComponent("MenuButton"),s=c.getComponent("MenuItem"),o=c.getComponent("ModalDialog"),i=c.getComponent("TextTrackMenuItem"),r=c.getComponent("PlaybackRateMenuButton"),y=c.getComponent("BigPlayButton"),f=function(n){function o(t,e){return p(this,o),h(this,n.call(this,t,e))}return e(o,n),o.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-topbar-text",dir:"ltr",innerHTML:"<span>"+this.options_.playerOptions.topbar.topbarText.title+"</span>"})},o}(t);t.registerComponent("TopbarText",f);var b=function(o){function i(t,e){p(this,i);var n=h(this,o.call(this,t,e));return n.controlText(e&&e.controlText||n.localize("Bookmark")),n}return e(i,o),i.prototype.buildCSSClass=function(){return"vjs-icon-book "+o.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function(t){alert("북마크 목록을 보여줍니다(설정메뉴)"),this.trigger({type:"bookmark",bubbles:!1})},i}(n);t.registerComponent("BookButton",b);var g=function(o){function i(t,e){p(this,i);var n=h(this,o.call(this,t,e));return n.controlText(e&&e.controlText||n.localize("QNA")),e.playerOptions.topbar.qnaButton.href&&0!=e.playerOptions.topbar.qnaButton.href.length||"function"==typeof e.playerOptions.topbar.qnaButton.callback?n.show():n.hide(),n}return e(i,o),i.prototype.buildCSSClass=function(){return"vjs-icon-qna "+o.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function(t){this.options_.playerOptions.topbar.qnaButton.callback=c.bind(this,function(t){!0===this.options_.playerOptions.topbar.qnaButton.isPlayStop&&this.player().pause();if("function"==typeof this.options_.playerOptions.topbar.qnaButton.extraFunction)this.options_.playerOptions.topbar.qnaButton.extraFunction();else if(this.options_.playerOptions.topbar.qnaButton.href&&0!=this.options_.playerOptions.topbar.qnaButton.href.length){var e=c.parseUrl(this.options_.playerOptions.topbar.qnaButton.href);this.options_.playerOptions.topbar.qnaButton.target&&"_blank"==this.options_.playerOptions.topbar.qnaButton.target?l.open(e.protocol+"//"+e.host+e.pathname+e.search+e.hash):l.location.href=e.protocol+"//"+e.host+e.pathname+e.search+e.hash}}),this.options_.playerOptions.topbar.qnaButton.pauseOnOpen=!1,this.player().trigger("messageLayer",this.options_.playerOptions.topbar.qnaButton)},i}(n);t.registerComponent("QnaButton",g);var v=function(r){function a(t,e){p(this,a);var n=e.track,o=e.cue,i=t.currentTime();e.selectable=!0,e.multiSelectable=!1,e.label=o.text,e.selected=o.startTime<=i&&i<o.endTime;var s=h(this,r.call(this,t,e));return s.track=n,s.cue=o,n.addEventListener("cuechange",c.bind(s,s.update)),s}return e(a,r),a.prototype.handleClick=function(t){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},a.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},a}(s);t.registerComponent("IndexTrackItem",v);var _=function(a){function l(t,e,n){p(this,l),e.pauseOnOpen=!1,e.temporary=!1;var o=h(this,a.call(this,t,e)),i=t.textTracks(),s=c.bind(o,o.updateTrack);if(i.addEventListener("removetrack",s),i.addEventListener("addtrack",s),t.on("ready",s),t.on("dispose",function(){i.removeEventListener("removetrack",s),i.removeEventListener("addtrack",s)}),o.indexButton=n,o.hasBeenOpened_=o.hasBeenFilled_=!0,this.options_.playerOptions.topbar.topbarText.title){var r=c.dom.createEl("div",{className:"vjs-menu-title",innerHTML:this.options_.playerOptions.topbar.topbarText.title,tabIndex:-1});c.dom.prependTo(r,o.el())}return o.endDialog=c.dom.createEl("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o}return e(l,a),l.prototype.updateTrack=function(t){if(this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),t&&"load"===t.type&&t.target&&t.target.src&&Array.isArray(t.target.src))for(var e in t.target.src)t.target.track.addCue(new VTTCue(t.target.src[e].startTime,t.target.src[e].endTime,t.target.src[e].text));var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.menuEl_=n.el_,this.fill(),this.buttonPressed_=!1,this.items&&this.items.length<=0?(n.hide(),this.indexButton.hide()):(n.show(),this.indexButton.show())},l.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.updateTrack.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},l.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var n=t[e];if("chapters"===n.kind)return n}},l.prototype.createMenu=function(){var t=new d(this.player_);if(this.items=this.createItems(),this.items)for(var e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t},l.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,o=e.length;n<o;n++){var i=e[n],s=new v(this.player_,{track:this.track_,cue:i});t.push(s)}return t},l.prototype.open=function(){this.player().topbarWrap.toggleClass("vjs-zeroOpacity"),a.prototype.open.call(this),this.player().controls(!0)},l.prototype.close=function(){this.player().topbarWrap.toggleClass("vjs-zeroOpacity"),this.indexButton.unpressButton(),a.prototype.close.call(this)},l.prototype.dispose=function(){this.endDialog=null,a.prototype.dispose.call(this)},l.prototype.content=function(){return this.menuEl_},l.prototype.buildCSSClass=function(){return a.prototype.buildCSSClass.call(this)+" vjs-index-layer"},l.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(document,"keydown",this.handleKeyDown),this.player_.$(".vjs-icon-index").focus()},l}(o);t.registerComponent("IndexLayer",_);var k=function(o){function i(t,e){p(this,i);var n=h(this,o.call(this,t,e));return n.controlText(e&&e.controlText||n.localize("Index")),n.el_.setAttribute("aria-haspopup","true"),n.hide(),n.enabled_=!0,n.on("tap",n.handleClick),n.on("click",n.handleClick),n.on("focus",n.handleFocus),n.on("blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n.indexLayer=new _(t,e,n),t.addChild(n.indexLayer),n}return e(i,o),i.prototype.buildCSSClass=function(){return"vjs-icon-index "+o.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.prototype.handleFocus=function(){this.on(document,"keydown",c.bind(this,this.handleKeyPress))},i.prototype.handleBlur=function(){this.off(document,"keydown",c.bind(this,this.handleKeyPress))},i.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},i.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.el_.focus()))},i.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,c.browser.IS_IOS&&c.dom.isInFrame())return;this.indexLayer.open()}},i.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"))},i.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled")},i.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled")},i}(n);t.registerComponent("IndexButton",k);var C=function(n){function o(t,e){return p(this,o),h(this,n.call(this,t,e))}return e(o,n),o.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-topbar-wrap",dir:"ltr"}),e=this;return setTimeout(function(){e.player_.el_.insertBefore(t,e.player_.el_.getElementsByTagName("video")[0])},1),t},o.prototype.options_={children:["topbarText","qnaButton","IndexButton"]},o}(t);t.registerComponent("TopbarWrap",C);var S=function(n){function o(t,e){return p(this,o),h(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){this.player_.paused()?(this.controlText("Pause"),n.prototype.handleClick.call(this,t)):(this.player_.pause(),this.controlText("Play")),this.player().getChild("ResolutionOSDButton").hide()},o.prototype.controlText_="Pause",o}(y);t.registerComponent("BigPlay1Button",S);var T=function(o){function i(t,e){p(this,i);var n=h(this,o.call(this,t,e));return t.on("updateSources",c.bind(this,this.createResolutionMenu)),n}return e(i,o),i.prototype.createEl=function(){return o.prototype.createEl.call(this,"div",{className:"vjs-resolution-button"})},i.prototype.createResolutionMenu=function(){var t=new d(this.player());c.dom.addClass(t.contentEl().parentNode,"quality-menu"),this.sources=this.player_.getGroupedSrc();var e=this.sources&&this.sources.label||{};for(var n in e)e.hasOwnProperty(n)&&t.addChild(new O(this.player_,{label:n,src:e[n],selected:n===(!!this.currentSelection&&this.currentSelection.label)}));this.addChild(t)},i}(t);t.registerComponent("ResolutionOSDButton",T);var B=function(i){function s(t,e){p(this,s);var n=h(this,i.call(this,t,e));n.controlText(e&&e.controlText||n.localize("captions toggle")),n.selected=!1,n._tracks=t.textTracks();var o=c.bind(n,n.updateTrack);return n._tracks.addEventListener("change",o),n}return e(s,i),s.prototype.updateTrack=function(t){this.selected=!1;for(var e=0;e<this._tracks.length;e++)if(("captions"===this._tracks[e].kind||"subtitles"===this._tracks[e].kind)&&"showing"==this._tracks[e].mode){this.selected=!0,this.player_.cache_.track=this._tracks[e];break}this.selected?this.addClass("vjs-selected"):this.removeClass("vjs-selected")},s.prototype.toggleCaptions=function(){for(var t=0;t<this._tracks.length;t++)if(this.selected)this._tracks[t].mode="disabled";else{if(!this.player_.cache_.track){this.preselectTrack();break}if(this._tracks[t].kind==this.player_.cache_.track.kind&&this._tracks[t].language==this.player_.cache_.track.language&&this._tracks[t].label==this.player_.cache_.track.label){this._tracks[t].mode="showing";break}}},s.prototype.preselectTrack=function(){for(var t=this.player_.textTracks(),e=void 0,n=t.length-1;0<=n;n--){var o=t[n];if(("captions"===o.kind||"subtitles"===o.kind)&&(e=o,this.player_.language_===o.language))break}e&&(e.mode="showing")},s.prototype.buildCSSClass=function(){return"vjs-captions-button "+i.prototype.buildCSSClass.call(this)},s.prototype.handleClick=function(t){this.toggleCaptions()},s}(n);t.registerComponent("CaptionsToggleButton",B);var x=function(n){function o(t,e){return p(this,o),h(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){this.buttonPressed_?this.unpressButton():(this.player().controlBar.SettingMenuButton.unpressButton(),this.pressButton())},o}(r);t.registerComponent("PlaybackRateMenu1Button",x);var w=function(o){function i(t,e){p(this,i),e.selectable=!0;var n=h(this,o.call(this,t,e));return this.src=e.src,t.on("resolutionchange",c.bind(this,this.update)),n}return e(i,o),i.prototype.handleClick=function(t){s.prototype.handleClick.call(this,t),this.player_.currentResolution(this.options_.label)},i.prototype.update=function(){var t=this.player_.currentResolution();this.selected(this.options_.label===t.label)},i}(s);t.registerComponent("ResolutionMenuItem",w);var O=function(n){function o(t,e){return p(this,o),h(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){n.prototype.handleClick.call(this,t),this.player().getChild("ResolutionOSDButton").hide(),this.player().play()},o}(w);t.registerComponent("ResolutionOSDMenuItem",O);var M=function(s){function r(t,e){p(this,r),this.label=document.createElement("span"),e.label="Quality";var n=h(this,s.call(this,t,e));this.el().setAttribute("aria-label","Quality"),this.controlText("Quality");var o=c.dom||c;if(e.dynamicLabel)o.addClass(this.label,"vjs-resolution-button-label"),this.el().appendChild(this.label);else{var i=document.createElement("span");o.addClass(i,"vjs-menu-icon"),this.el().appendChild(i)}return t.on("updateSources",c.bind(this,this.update)),n}return e(r,s),r.prototype.createItems=function(){var t=[],e=this.sources&&this.sources.label||{};for(var n in e)e.hasOwnProperty(n)&&t.push(new w(this.player_,{label:n,src:e[n],selected:n===(!!this.currentSelection&&this.currentSelection.label)}));return t},r.prototype.update=function(){return this.sources=this.player_.getGroupedSrc(),this.currentSelection=this.player_.currentResolution(),this.label.innerHTML=this.currentSelection?this.currentSelection.label:"",m.prototype.update.call(this)},r.prototype.buildCSSClass=function(){return"vjs-resolution-button "+m.prototype.buildCSSClass.call(this)},r.prototype.buildWrapperCSSClass=function(){return"vjs-resolution-button "+m.prototype.buildWrapperCSSClass.call(this)},r}(m);t.registerComponent("ResolutionMenuButton",M);var E=function(n){function o(t,e){return p(this,o),e.selectable=!0,h(this,n.call(this,t,e))}return e(o,n),o}(i);t.registerComponent("CaptionsMenuItem",E);var j=function(i){function n(t,e){return p(this,n),e.selectable=!1,h(this,i.call(this,t,e))}return e(n,i),n.prototype.createEl=function(t,e,n){this.nonIconControl=!0,this.tabIndex_=-1;var o=c.dom.createEl("li",{className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.labelObj.name)+'</span><span class="vjs-menu-item-text">'+this.localize(this.options_.labelObj.description)+"</span>",tabIndex:-1});return i.prototype.createControlTextEl.call(this,o),o},n.prototype.handleClick=function(t){},n}(s);t.registerComponent("HotkeysMenuItem",j);var P=function(n){function o(t,e){return p(this,o),e.selectable=!1,h(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){},o}(s);t.registerComponent("InfoMenuItem",P);var I=function(n){function o(t,e){return p(this,o),h(this,n.call(this,t,e))}return e(o,n),o.prototype.handleClick=function(t){n.prototype.handleClick.call(this,t),this.options_.parentObj.selectedMenuName=this.options_.label.replace(" ","_")+"-menu",this.options_.parentObj.pressButton()},o}(s);t.registerComponent("SettingMenuItem",I);var L=function(t){function i(t,e){p(this,i),this.menuList={},this.selectedMenuName="basic-menu";var n=h(this,m.call(this,t,e));t.on("updateSources",c.bind(this,this.createResolutionMenu));var o=t.textTracks();return o.addEventListener("removetrack",c.bind(n,n.createCaptionsMenu)),o.addEventListener("addtrack",c.bind(n,n.createCaptionsMenu)),t.on("ready",c.bind(n,n.createCaptionsMenu)),t.on("dispose",function(){o.removeEventListener("removetrack",c.bind(n,n.createCaptionsMenu)),o.removeEventListener("addtrack",c.bind(n,n.createCaptionsMenu))}),this.createHotkeysMenu(),this.createInfoMenu(),n}return e(i,m),i.prototype.createMenu=function(){var t=["Quality","Captions Language","Hotkeys","Info"],e=new d(this.player_,{menuButton:this});c.dom.addClass(e.contentEl().parentNode,"basic-menu");for(var n=0,o=t.length;n<o;n++)e.addChild(new I(this.player_,{label:t[n],parentObj:this}));return this.menuList["basic-menu"]=e},i.prototype.createResolutionMenu=function(){var t=new d(this.player());c.dom.addClass(t.contentEl().parentNode,"quality-menu");var e=c.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Quality")),tabIndex:-1});this.on(e,"click",c.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),t.children_.unshift(e),c.dom.prependTo(e,t.contentEl()),this.sources=this.player_.getGroupedSrc();var n=this.sources&&this.sources.label||{};for(var o in n)n.hasOwnProperty(o)&&t.addChild(new w(this.player_,{label:o,src:n[o],selected:o===(!!this.currentSelection&&this.currentSelection.label),parentObj:this}));this.addChild(t),this.menuList["Quality-menu"]=t},i.prototype.createCaptionsMenu=function(){var t=new d(this.player());this.captionsMenu&&(this.captionsMenu.dispose(),this.removeChild(this.captionsMenu)),c.dom.addClass(t.contentEl().parentNode,"captions-menu");var e=c.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Captions Language")),tabIndex:-1});this.on(e,"click",c.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),t.children_.unshift(e),c.dom.prependTo(e,t.contentEl());for(var n=this.player_.textTracks(),o=["captions","subtitles"],i=0;i<n.length;i++){var s=n[i];if(-1<o.indexOf(s.kind)&&(!s.cues||0!=s.cues.length)){var r=new E(this.player_,{track:s,parentObj:this});r.addClass("vjs-"+s.kind+"-menu-item"),t.addChild(r)}}this.captionsMenu=t,this.addChild(t),this.menuList["Captions_Language-menu"]=t},i.prototype.createHotkeysMenu=function(){var t=[{name:"Space Bar",description:"재생 / 일시정지"},{name:"Enter | F",description:"전체화면 / 일반화면"},{name:"Esc",description:"전체화면 해제"},{name:"M",description:"음소거 / 음소거 해제"},{name:"&#8593;",description:"볼륨 증가"},{name:"&#8595;",description:"볼륨 감소"},{name:"&#8592;",description:"구간 이동(-5초)"},{name:"&#8594;",description:"구간 이동(+5초)"}],e=new d(this.player());c.dom.addClass(e.contentEl().parentNode,"hotkeys-menu");var n=c.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Hotkeys")),tabIndex:-1});this.on(n,"click",c.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),e.children_.unshift(n),c.dom.prependTo(n,e.contentEl());for(var o=0,i=t.length;o<i;o++)e.addChild(new j(this.player_,{label:"Hotkeys",labelObj:t[o],parentObj:this}));this.addChild(e),this.menuList["Hotkeys-menu"]=e},i.prototype.createInfoMenu=function(){var t=new d(this.player());c.dom.addClass(t.contentEl().parentNode,"info-menu");var e=c.dom.createEl("li",{className:"vjs-menu-title",innerHTML:a(this.localize("Info")),tabIndex:-1});this.on(e,"click",c.bind(this,function(t){this.selectedMenuName="basic-menu",this.pressButton()})),t.children_.unshift(e),c.dom.prependTo(e,t.contentEl());var n=new P(this.player_,{label:this.options_.playerOptions.playerInfo.innerHtml||"EOSF player",parentObj:this});t.addChild(n),this.addChild(t),this.menuList["Info-menu"]=t},i.prototype.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.prototype.pressButton=function(){if(this.enabled_){if(this.player().controlBar.playbackRateMenu1Button.unpressButton(),this.buttonPressed_=!0,this.menuButton_.el_.setAttribute("aria-expanded","true"),c.browser.IS_IOS&&c.dom.isInFrame())return;var n=this.menuList,o=this.selectedMenuName;Object.keys(n).forEach(function(t){var e=n[t];o===t?e.lockShowing():e.unlockShowing()})}},i.prototype.unpressButton=function(){if(this.enabled_){this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false");var e=this.menuList;this.selectedMenuName="basic-menu",Object.keys(e).forEach(function(t){e[t].unlockShowing()})}},i.prototype.buildCSSClass=function(){return"vjs-icon-cog vjs-setting "+t.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function(){return"vjs-icon-cog vjs-setting "+t.prototype.buildWrapperCSSClass.call(this)},i.prototype.controlText_="Setting",i}(m);t.registerComponent("SettingMenuButton",L);var N=function(o){function i(t,e){p(this,i),this.messageOptions={},e.temporary=!1,e.uncloseable=!0;var n=h(this,o.call(this,t,e));return n.on(t,"messageLayer",n.openWithOption),n}return e(i,o),i.prototype.openWithOption=function(t,e){this.messageOptions={},e&&(this.options_.pauseOnOpen=e.pauseOnOpen,this.messageOptions=e,this.open())},i.prototype.buildCSSClass=function(){return"vjs-message-display "+o.prototype.buildCSSClass.call(this)},i.prototype.content=function(){var t=c.dom.createEl("div",{className:"vjs-modal-dialog-box"}),e=c.dom.createEl("div",{className:"vjs-modal-dialog-title",innerHTML:this.messageOptions.title||"알림"});if(c.dom.appendContent(t,e),this.messageOptions.message&&0!=this.messageOptions.message.length){var n=c.dom.createEl("div",{className:"vjs-modal-dialog-message",innerHTML:this.messageOptions.message});c.dom.appendContent(t,n)}if(this.messageOptions.info&&0!=this.messageOptions.info.length){var o=c.dom.createEl("div",{className:"vjs-modal-dialog-info",innerHTML:this.messageOptions.info});c.dom.appendContent(t,o)}var i=c.dom.createEl("div",{className:"vjs-modal-dialog-buttonWrap"}),s=c.dom.createEl("button",{className:"vjs-modal-dialog-btn_ok",textContent:"확인"});if(c.dom.appendContent(i,s),this.on(s,"click",c.bind(this,function(t){"function"==typeof this.messageOptions.callback&&this.messageOptions.callback(),this.close()})),this.messageOptions.messageType&&"confirm"==this.messageOptions.messageType){var r=c.dom.createEl("button",{className:"vjs-modal-dialog-btn_cancel",textContent:"취소"});c.dom.appendContent(i,r),this.on(r,"click",this.close)}return c.dom.appendContent(t,i),t},i}(o);t.registerComponent("MessageLayer",N);var R=function(t){0<this.options_.continue.time&&(!0===this.options_.continue.isShowMessage?(this.options_.continue.info=c.formatTime(this.options_.continue.time),this.options_.continue.callback=c.bind(this,function(t){this.currentTime(this.options_.continue.time),this.options_.continue.time=0}),this.trigger("messageLayer",this.options_.continue)):(this.currentTime(this.options_.continue.time),this.options_.continue.time=0))},H=function(t){var a,l,c=t,u=0,r=0,p=0,h=function(t){var e=p,n=Math.floor(e),o=Math.floor(r),i=e-r;if(!(i<=0)&&(u+=i,r=e,n-o!=0))for(var s=o;s<=n;s++){null==a[s]?a[s]={second:s,count:1}:a[s].count++}};return{setFirstPlaying:function(){l=Date.now(),a=new Array(Math.floor(c.duration()))},setPlay:function(){r=p=c.currentTime()},setTimeupdate:function(){var t=c.currentTime();.3<Math.abs(t-p)||(p=t)},setStop:h,getTimeInfo:function(){c.paused()||h();for(var t,e,n=Math.floor((Date.now()-l)/1e3),o=c.duration(),i=c.played(),s=0,r=0;r<i.length;r++)t=i.start(r),o<(e=i.end(r))&&(e=o),s+=e-t;if(Array.isArray(a))for(r=0;r<a.length;r++)null==a[r]&&(a[r]={second:r,count:0});return{stayedTime:n||0,actedPlayedTime:u,playedTime:s,durationTime:o,lastTimePosition:c.currentTime(),secondStatsArray:a||[]}}}},D=function(t){1<t.sources.length&&this.updateSrc(t.sources)},q=function(r){var a=r.options_.resolution;function n(t,e){return t.res&&e.res?+e.res-+t.res:0}function l(t){var e={label:{},res:{},type:{}};return t.map(function(t){o(e,"label",t),o(e,"res",t),o(e,"type",t),i(e,"label",t),i(e,"res",t),i(e,"type",t)}),e}function o(t,e,n){null==t[e][n[e]]&&(t[e][n[e]]=[])}function i(t,e,n){t[e][n[e]].push(n)}r.updateSrc=function(t){if(!t)return r.src();t=t.filter(function(t){try{return""!==r.canPlayType(t.type)}catch(t){return!0}}),this.currentSources=t.sort(n),this.groupedSrc=l(this.currentSources);var e=function(t,e){var n=a.default,o="";"high"===n?(n=e[0].res,o=e[0].label):"low"!==n&&null!=n&&t.res[n]?t.res[n]&&(o=t.res[n][0].label):(n=e[e.length-1].res,o=e[e.length-1].label);return{res:n,label:o,sources:t.res[n]}}(this.groupedSrc,this.currentSources);return this.currentResolutionState={label:e.label,sources:e.sources},r.trigger("updateSources"),r.setSourcesSanitized(e.sources,e.label),r.trigger("resolutionchange"),r},r.currentResolution=function(t,e){if(null==t)return this.currentResolutionState;if(t==this.currentResolutionState.label)return this.currentResolutionState;if(this.groupedSrc&&this.groupedSrc.label&&this.groupedSrc.label[t]){var n=this.groupedSrc.label[t],o=r.currentTime(),i=r.paused();this.player_.addClass("vjs-waiting"),i||(this.player_.bigPlay1Button&&this.player_.bigPlay1Button.hide(),this.player_.posterImage&&this.player_.posterImage.hide());var s="loadeddata";return"Youtube"!==this.player_.techName_&&"none"===this.player_.preload()&&"Flash"!==this.player_.techName_&&(s="timeupdate"),r.setSourcesSanitized(n,t,e||a.customSourcePicker).one(s,function(){r.currentTime(o),r.handleTechSeeked_(),i||(r.play(),r.handleTechSeeked_(),this.player_.bigPlay1Button&&this.player_.bigPlay1Button.show(),this.player_.posterImage&&this.player_.posterImage.show()),r.trigger("resolutionchange")}),r}},r.getGroupedSrc=function(){return this.groupedSrc},r.setSourcesSanitized=function(t,e,n){return this.currentResolutionState={label:e,sources:t},"function"==typeof n?n(r,t,e):(r.src(t.map(function(t){return{src:t.src,type:t.type,res:t.res}})),r)},r.ready(function(){if(a.ui){var t=new M(r,a);r.controlBar.resolutionSwitcher=r.controlBar.el_.insertBefore(t.el_,r.controlBar.getChild("fullscreenToggle").el_),r.controlBar.resolutionSwitcher.dispose=function(){this.parentNode.removeChild(this)}}var o,i,s;1<r.options_.sources.length&&r.updateSrc(r.options_.sources),"Youtube"===r.techName_&&(o=r,i={highres:{res:1080,label:"1080",yt:"highres"},hd1080:{res:1080,label:"1080",yt:"hd1080"},hd720:{res:720,label:"720",yt:"hd720"},large:{res:480,label:"480",yt:"large"},medium:{res:360,label:"360",yt:"medium"},small:{res:240,label:"240",yt:"small"},tiny:{res:144,label:"144",yt:"tiny"},auto:{res:0,label:"auto",yt:"auto"}},s=function(t,e,n){return o.tech_.ytPlayer.setPlaybackQuality(e[0]._yt),o.trigger("updateSources"),o},a.customSourcePicker=s,o.tech_.ytPlayer.setPlaybackQuality("auto"),o.tech_.ytPlayer.addEventListener("onPlaybackQualityChange",function(t){for(var e in i)if(e.yt===t.data)return void o.currentResolution(e.label,s)}),o.one("play",function(){var t=o.tech_.ytPlayer.getAvailableQualityLevels(),e=[];t.map(function(t){e.push({src:o.src().src,type:o.src().type,label:i[t].label,res:i[t].res,_yt:i[t].yt})}),o.groupedSrc=l(e);var n={label:"auto",res:0,sources:o.groupedSrc.label.auto};this.currentResolutionState={label:n.label,sources:n.sources},o.trigger("updateSources"),o.setSourcesSanitized(n.sources,n.label,s)}))})},A="vjs-contextmenu";function z(t,e){if(t.options_.contextmenu.disabled)return t;var n={target:t,type:A};return["clientX","clientY","pageX","pageY","screenX","screenY"].forEach(function(t){n[t]=e[t]}),t.trigger(n)}function F(t){var e=this.options_.contextmenu.current;if(e){var n=this.options_.contextmenu.wait;"touchend"===t.type&&Number(new Date)-e.time>=n&&z(this,t),this.options_.contextmenu.current=null}}function Q(t){var e=this.options_.contextmenu.current;if(e){var n=t.touches[0],o=this.options_.contextmenu.sensitivity;(n.screenX-e.screenX>o||n.screenY-e.screenY>o)&&(this.options_.contextmenu.current=null)}}function K(t){if(!this.options_.contextmenu.current){var e=t.touches[0];this.options_.contextmenu.current={screenX:e.screenX,screenY:e.screenY,time:Number(new Date)}}}function W(t){this.options_.contextmenu.cancel&&!this.options_.contextmenu.disabled&&t.preventDefault(),z(this,t),this.off(["touchcancel","touchend"],F),this.off("touchmove",Q),this.off("touchstart",K)}c.registerPlugin("learnPlugin",function(e){var t,n,o,i,s;n=function(e){return e.modifiers=e.modifiers||{},{key:function(t){return t.which===e.key&&!!e.modifiers.ctrl==!!t.ctrlKey&&!!e.modifiers.shift==!!t.shiftKey&&!!e.modifiers.alt==!!t.altKey&&!!e.modifiers.meta==!!t.metaKey},handler:e.handler}},o=function(i){return function(t){if(t.options_.playbackRates&&Array.isArray(t.options_.playbackRates)){for(var e=0,n=0,o=t.options_.playbackRates.length;n<o;n++)if(t.options_.playbackRates[n]==t.playbackRate()){e=n;break}t.playbackRate(t.options_.playbackRates[e+i])}}},(t=e).options_.hotkey.customKeys={slowDownArBr:n({key:188,handler:o(-1)}),speedUp:n({key:190,handler:o(1)})},t.hotkeys(t.options_.hotkey),q(e),e.changeSouece=D,(s=i=e).on("contextmenu",c.bind(s,W)),i.on(["touchcancel","touchend"],c.bind(s,F)),i.on("touchmove",c.bind(s,Q)),i.on("touchstart",c.bind(s,K)),i.ready(function(){return s.addClass(A)}),e.on("vjs-contextmenu",function(t){var e=c.dom.createEl("div",{className:"vjs-hidden vjs-contenxtmenu"});c.dom.appendContent(this.el(),e),e.parentNode.removeChild(e)}),e.addClass("video-js"),e.on("mouseleave",function(){e.userActive(!1)}),e.on("playerresize",function(){e.trigger("texttrackchange")});var r=function(){e.textTrackDisplay.hide()};!0!==e.options_.isMobile&&(e.on("volumechange",function(){!function(t){try{"number"==typeof t?l.localStorage.setItem(u,t):l.localStorage.removeItem(u)}catch(t){c.log.warn(t)}}(e.muted()?0:e.volume())}),e.one("ready",function(){var t=function(){var t=void 0;try{t=l.localStorage.getItem(u)}catch(t){c.log.warn(t)}return t||(t=1),t}();e.volume(t),0==t?e.muted(!0):e.muted(!1)})),e.on("texttrackchange",r),e.on("ready",function(){setTimeout(function(){e.off("texttrackchange",r),e.textTrackDisplay.show(),e.trigger("texttrackchange")},400)}),e.one("canplay",function(){!0===e.options_.isMobile&&(e.addClass("mobileMode"),e.controlBar.playToggle.hide(),e.controlBar.volumePanel.volumeControl.hide(),e.volume(1)),!0===e.options_.learnMode&&e.addClass("learnMode")});var a=new H(e);e.getTimeInfo=a.getTimeInfo,e.one("playing",a.setFirstPlaying),e.on("play",a.setPlay),e.on("timeupdate",a.setTimeupdate),e.on(["seeking","ended","pause","waiting"],a.setStop),e.one("playing",R)})}(window,t)}();